$(function(){var e="js/regions.json",t=$(".search input[type=text]").first(),a=$(".where-to-buy__towns").first(),n=$(".search").first();t.on("keyup",function(){var e=t.val();e.length>1?($("li",a).each(function(t,a){var n=$(a).attr("data-value").toLowerCase();0===n.indexOf(e.toLowerCase())?$(a).show():$(a).hide()}),a.fadeIn()):0===e.length&&a.fadeOut(400,function(){$("li",a).hide()})}),$(".where-to-buy__trigger").first().click(function(){n.hasClass("show")?n.fadeOut("fast").removeClass("show"):(n.fadeIn("fast").addClass("show"),t.focus(),$.get(e,function(e){a.empty(),e&&e.forEach(function(e){a.append('<li data-town-id="'+e.region_id+'" data-value="'+e.region+'"><a href="#">'+e.region+"</a></li>")})}))})});